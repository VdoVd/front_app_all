/* empty css               */import{u as U}from"./homeListIds-D_23J0N0.js";/* empty css                        *//* empty css                */import{a as G,r as f,H as Q,u as l,o as y,p as z,e,w as t,D as k,x as C,I as E,b as j,i as W,J as X,K as Y,f as o,t as L,F as Z,q as ee,g as te,n as le,h as A,m as ae,j as se,s as oe,y as ne}from"./index-U8SeVnrU.js";import{u as ie,a as I}from"./userStore-CWKKMDdA.js";import{g as x}from"./utils-BabOjsD-.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ue=["innerHTML"],de={key:0,class:"feedback",style:{"background-color":"white","border-radius":"15px",padding:"20px",width:"100px","font-size":"15px"}},ce=G({__name:"questionDetailPage",props:["id"],setup(S){const g=S;console.log(`id jump:${typeof g.id}`);const T=ie();let N=()=>{console.log("jump"),le.back()},h=f(!0),w=f(""),n=f({}),i=f(!1),r=f(!1),$="",p=f(1);const D=g.id,q=async _=>{const d=await I.get(`https://api-harmony-teach.itheima.net/hm/question/${_}`,{headers:{Authorization:`Bearer ${T.userLogin.token}`}});n.value=d.data.data,w.value=n.value.difficulty<2&&n.value.difficulty>=0?"简单":n.value.difficulty<5&&n.value.difficulty>=2?"一般":"困难",$=n.value.answer,i.value=n.value.likeFlag===1,r.value=n.value.collectFlag===1,h.value=!1};q(g.id);let H=async()=>{r.value=!r.value,console.info("click"+r.value)},M=()=>{i.value=!i.value},u=f(!1),B=async()=>{const _=await I({url:"https://api-harmony-teach.itheima.net/hm/question/opt",method:"post",headers:{Authorization:`Bearer ${T.userLogin.token}`,"Content-Type":"application/json"},data:{id:D,optType:p.value}});let d=_.data;return console.log(`collectAndLike:${JSON.stringify(d)}`),console.log(`type:${g.id},optType:${p.value}`),u.value=!1,_.data.success===!0},c=f(0);const F=U();c.value=F.ids.indexOf(g.id);let V=()=>{h.value=!0,q(F.ids[c.value])};Q(c,()=>{V()});let P=()=>{c.value===0?A.prompt("已经是第一题了","提示"):c.value=c.value-1},R=()=>{c.value===9?A.prompt("已经是最后一题了","提示"):c.value=c.value+1};return window.addEventListener("message",_=>{_.data==="scrollToBottom"&&console.log("已经滑动到底部了")},!0),(_,d)=>{const s=ae,a=W,m=se,J=X,v=oe,O=Y,K=ne;return l(h)===!1?(y(),z("div",{key:0,class:"ques-wrap",style:E({backgroundColor:l(u)?"rgba(0,0,0,0.4)":"white"})},[e(J,null,{default:t(()=>[e(a,{align:"middle"},{default:t(()=>[e(s,{span:2,style:{"font-weight":"bolder","font-size":"17px"},onClick:l(N)},{default:t(()=>[o("<")]),_:1},8,["onClick"]),e(s,{span:20,style:{"text-align":"center"}},{default:t(()=>[o("题目详情")]),_:1})]),_:1}),e(a,null,{default:t(()=>[e(s,{span:24,style:{"font-weight":"bolder"}},{default:t(()=>[o(L(l(n).stem),1)]),_:1})]),_:1}),e(a,{justify:"space-between"},{default:t(()=>[e(s,{span:20},{default:t(()=>[e(a,null,{default:t(()=>[e(s,{span:4},{default:t(()=>[e(m,{type:l(w)==="简单"?"success":l(w)==="一般"?"warning":"danger",style:{padding:"5px","background-color":"rgba(0,0,0,0.1)","border-radius":"8px"},size:"small"},{default:t(()=>[o(L(l(w)),1)]),_:1},8,["type"])]),_:1}),e(s,{span:20},{default:t(()=>[(y(!0),z(Z,null,ee(l(n).stage,(b,pe)=>(y(),j(m,{type:"primary",style:{padding:"5px","background-color":"rgba(0,0,0,0.1)","border-radius":"8px"},size:"small"},{default:t(()=>[o(L(b),1)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),e(s,{span:4},{default:t(()=>[e(m,{style:{"font-weight":"bolder","font-size":"20px"},onClick:d[0]||(d[0]=b=>k(u)?u.value=!l(u):u=!l(u))},{default:t(()=>[o(" ''' ")]),_:1})]),_:1})]),_:1})]),_:1}),e(O,null,{default:t(()=>[e(a,{justify:"start"},{default:t(()=>[e(m,{style:{"font-weight":"bolder","font-size":"15px"},size:"small"},{default:t(()=>[o(" 答案: ")]),_:1})]),_:1}),e(a,{justify:"start"},{default:t(()=>[e(s,{span:24},{default:t(()=>[te("div",{innerHTML:l($),style:{width:"100%"}},null,8,ue)]),_:1})]),_:1}),l(u)===!1?(y(),j(a,{key:0},{default:t(()=>[e(s,{span:2},{default:t(()=>[e(v,{src:l(x)("ic_mine_collect.png"),style:{width:"20px"}},null,8,["src"])]),_:1}),e(s,{span:20},{default:t(()=>[e(m,{type:"primary",size:"small"},{default:t(()=>[o(" 有问题?点我反馈 ")]),_:1})]),_:1})]),_:1})):C("",!0),e(a,{style:{height:"30px"}}),l(u)===!1?(y(),j(a,{key:1,justify:"end"},{default:t(()=>[e(s,{span:4},{default:t(()=>[e(v,{src:l(x)("love2.svg"),style:E({width:"30px",height:"30px","border-radius":"15px",padding:"5px",backgroundColor:l(r)===!0?"red":"white"}),onClick:l(H)},null,8,["src","style","onClick"])]),_:1}),e(s,{span:4},{default:t(()=>[e(v,{src:l(x)("like.svg"),style:E({width:"30px",height:"30px","border-radius":"15px",padding:"5px",backgroundColor:l(i)===!0?"yellow":"white"}),onClick:l(M)},null,8,["src","style","onClick"])]),_:1})]),_:1})):C("",!0),e(a,{style:{height:"15px"}}),e(a,{justify:"space-between"},{default:t(()=>[e(s,{span:8},{default:t(()=>[e(v,{src:l(x)("prev_black.png"),fit:"fill",onClick:l(P)},null,8,["src","onClick"])]),_:1}),e(s,{span:8},{default:t(()=>[e(v,{src:l(x)("next_black.png"),fit:"fill",onClick:l(R)},null,8,["src","onClick"])]),_:1})]),_:1})]),_:1}),l(u)?(y(),z("div",de,[e(a,{justify:"center",class:"text",onClick:d[1]||(d[1]=async()=>{k(p)?p.value=1:p=1,await l(B)()===!0&&(k(r)?r.value=!l(r):r=!l(r),console.log(`like:${l(i)}`))})},{default:t(()=>[o("收藏")]),_:1}),e(a,{justify:"center",class:"text",onClick:d[2]||(d[2]=async()=>{k(p)?p.value=2:p=2,await l(B)()===!0&&(k(i)?i.value=!l(i):i=!l(i))})},{default:t(()=>[o("点赞")]),_:1}),e(a,{justify:"center",class:"text"},{default:t(()=>[o("点我反馈")]),_:1}),e(a,{justify:"center",class:"text"},{default:t(()=>[o("试题分享")]),_:1})])):C("",!0)],4)):l(h)===!0?(y(),j(K,{key:1,description:"加载中..."})):C("",!0)}}}),he=re(ce,[["__scopeId","data-v-36f4efcd"]]);export{he as default};
