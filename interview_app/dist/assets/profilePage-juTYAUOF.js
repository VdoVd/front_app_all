/* empty css               *//* empty css                 *//* empty css                    *//* empty css                  *//* empty css                        */import{u as w}from"./clockInData-ChilEIJB.js";import{u as N,b as x,c as v}from"./req-bZRZhQjY.js";import{a as b,r as u,o as I,p as C,e,w as a,u as c,D as E,F as S,i as D,P as U,k as V,n as F,f as r,t as J,m as O,s as B,E as j}from"./index-U8SeVnrU.js";import"./userStore-CWKKMDdA.js";const K=b({__name:"profilePage",setup(A){const p=w();let m=u(p.clockIn.avatar);u("");function d(l){let t=new FormData;t.append("file",l.raw),console.log("before file:");for(const[n,o]of t)console.log("key:"+JSON.stringify(n),"value:"+JSON.stringify(o));N(t),f()}let _=async()=>{let l=s.value;const t=await v(p.clockIn.avatar,l);s.value="",console.log(`update nickName:${JSON.stringify(t)}`),f()},f=async()=>{const l=await x();console.log(`update ok:${JSON.stringify(l)}`),p.clockIn.nickName=l.nickName,p.clockIn.avatar=l.avatar},s=u("");return(l,t)=>{const n=O,o=D,g=B,k=j,h=U,y=V;return I(),C(S,null,[e(o,null,{default:a(()=>[e(n,{span:2,style:{"font-weight":"bolder"},onClick:t[0]||(t[0]=i=>c(F).back())},{default:a(()=>[r("<")]),_:1}),e(n,{span:20,style:{"font-weight":"bolder"}},{default:a(()=>[r("完善个人信息")]),_:1})]),_:1}),e(o,{style:{height:"20px"}}),e(o,{justify:"space-between"},{default:a(()=>[e(n,{span:3},{default:a(()=>[r("头像")]),_:1}),e(n,{span:7},{default:a(()=>[e(g,{src:c(m),style:{width:"30px",height:"30px","border-radius":"15px"}},null,8,["src"])]),_:1})]),_:1}),e(o,{style:{height:"20px"}}),e(o,{justify:"space-between"},{default:a(()=>[e(n,{span:3},{default:a(()=>[r("昵称")]),_:1}),e(n,{span:7,offset:-2},{default:a(()=>[r(J(c(p).clockIn.nickName),1)]),_:1})]),_:1}),e(o,{style:{height:"20px"}}),e(h,{ref:"upload","auto-upload":!1,accept:"","show-file-list":!1,"on-change":d,action:"#",class:"upload-demo",multiple:""},{default:a(()=>[e(k,{type:"primary"},{default:a(()=>[r("upLoadImage")]),_:1})]),_:1},512),e(o,{style:{height:"20px"}}),e(y,{modelValue:c(s),"onUpdate:modelValue":t[1]||(t[1]=i=>E(s)?s.value=i:s=i),placeholder:"请输入昵称",style:{width:"200px"},onChange:c(_)},null,8,["modelValue","onChange"])],64)}}});export{K as default};
