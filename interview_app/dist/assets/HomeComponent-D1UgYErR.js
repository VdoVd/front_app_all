/* empty css               *//* empty css                *//* empty css                        *//* empty css                 */import{g as V}from"./utils-BabOjsD-.js";import{u as B}from"./homeListIds-D_23J0N0.js";import{u as N,a as q}from"./userStore-CWKKMDdA.js";import{_ as j}from"./homeItemView.vue_vue_type_script_setup_true_lang-CFFbt54G.js";import{a as x,r as d,o as t,p as k,b as h,x as y,F as w,q as I,y as L,u as e,w as m,z,A as D,B as A,e as p,g as E,i as F,C as M,D as R,f as $,t as U,n as H,k as J,m as G,s as O,j as P,G as K}from"./index-U8SeVnrU.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{g as Q}from"./req-bZRZhQjY.js";import{u as W}from"./clockInData-ChilEIJB.js";const X={key:1,class:"home-list-view",ref:"containerRef",style:{height:"550px"}},Y=x({__name:"homeListView",props:["id"],setup(C){const o=d([]),s=d(!0);let g=C.id;const l=B(),u=N();let r=d(1);(()=>{q.get(`https://api-harmony-teach.itheima.net/hm/question/list?questionBankType=10&type=${g}&page=${r.value}`,{headers:{Authorization:`Bearer ${u.userLogin.token}`}}).then(a=>{o.value=a.data.data.rows,s.value=!1,l.ids=o.value.map(c=>parseInt(c.id)),console.log(`ids:${JSON.stringify(l.ids)}`)})})();let i=()=>{console.log("loadMore"),r.value++},f=0;function b(){console.log(`${f}`),clearTimeout(f),f=window.setTimeout(()=>{i()},2e3)}return window.addEventListener("scroll",()=>{const a=document.body.scrollHeight,c=document.body.scrollTop,n=document.body.clientHeight;console.log(`all height:${a}`),console.log(`scrollTop:${c}`),console.log(`clientHeight:${n}`),a-c===n&&(console.log("到底了"),b())},!0),(a,c)=>{const n=L;return t(),k(w,null,[s.value===!0?(t(),h(n,{key:0,description:"加载中..."})):y("",!0),s.value===!1?(t(),k("div",X,[(t(!0),k(w,null,I(o.value,S=>(t(),h(j,{item:S},null,8,["item"]))),256))],512)):y("",!0)],64)}}}),Z=T(Y,[["__scopeId","data-v-4cb13054"]]),ee=x({__name:"homeTabsView",setup(C){const o=d("");let s=d(0),_=d(!0);const g=(r,v)=>{let i=r.index===void 0?"0":r.index;s.value=parseInt(i),o.value=l.value[parseInt(i)]===void 0?"JavaScript":l.value[parseInt(i)].name};let l=d([]);async function u(){let r=await q({url:"https://api-harmony-teach.itheima.net/hm/question/type"});l.value=r.data.data,_.value=!1,o.value=l.value[0].name}return u(),(r,v)=>{const i=L,f=z,b=D;return t(),k(w,null,[e(_)===!0?(t(),h(i,{key:0,description:"加载中..."})):y("",!0),e(_)===!1?(t(),h(b,{key:1,modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=a=>o.value=a),class:"demo-tabs",onTabClick:g},{default:m(()=>[e(_)===!1?(t(!0),k(w,{key:0},I(e(l),(a,c)=>(t(),h(f,{label:a.name,name:a.name,key:c},{default:m(()=>[e(_)===!1&&e(s)===c?(t(),h(Z,{key:0,id:a.id},null,8,["id"])):y("",!0)]),_:2},1032,["label","name"]))),128)):y("",!0)]),_:1},8,["modelValue"])):y("",!0)],64)}}}),te=T(ee,[["__scopeId","data-v-7fa2a8d3"]]),oe={class:"wrap"},ae={class:"block text-center"},se=x({__name:"HomeComponent",setup(C){let o=d(""),s=d({});A(async()=>{const l=await Q();s.value=l,W().set(s.value)});let _=()=>{H.push({path:"/search"})},g=()=>{H.push({path:"/clock"})};return(l,u)=>{const r=J,v=G,i=O,f=P,b=F,a=K,c=M;return t(),k("div",oe,[p(b,{justify:"space-between"},{default:m(()=>[p(v,{span:16},{default:m(()=>[p(r,{placeholder:"请输入内容",modelValue:e(o),"onUpdate:modelValue":u[0]||(u[0]=n=>R(o)?o.value=n:o=n),clearable:"",style:{"border-radius":"13px"},onClick:e(_)},null,8,["modelValue","onClick"])]),_:1}),p(v,{span:6},{default:m(()=>[E("div",{class:"img-wrap",style:{"{position":"relative }"},onClick:u[1]||(u[1]=(...n)=>e(g)&&e(g)(...n))},[p(i,{src:e(V)("ic_common_unclock.png"),fit:"fill",style:{}},null,8,["src"]),e(s).clockinNumbers===0?(t(),h(f,{key:0,style:{position:"absolute",top:"35%",left:"90%",transform:"translate(-50%,-50%)","font-size":"16px","font-weight":"bold"}},{default:m(()=>[$("打卡")]),_:1})):(t(),h(f,{key:1,style:{position:"absolute",top:"35%",left:"90%",transform:"translate(-50%,-50%)","font-size":"10px","font-weight":"normal"},onClick:e(g)},{default:m(()=>[$("连续打卡"+U(e(s).clockinTotal)+"天",1)]),_:1},8,["onClick"]))])]),_:1})]),_:1}),E("div",ae,[p(c,{height:"150px"},{default:m(()=>[(t(),k(w,null,I(4,n=>p(a,{key:n},{default:m(()=>[p(i,{src:e(V)("banner_qa.png"),style:{width:"100%",height:"100%"}},null,8,["src"])]),_:2},1024)),64))]),_:1})]),p(te)])}}}),ge=T(se,[["__scopeId","data-v-40edd485"]]);export{ge as default};
